{% extends "theme.html" %} {% block title %} User Page: Taskhub {% endblock %}

{% block content %} 
<header>
    <h1>Welcome to Your User Page</h1>
</header>
<main>
    <!-- Account type pop up -->
    {% if show_account_type_popup %}
    <form id="accountTypeForm">
        <div class="modal fade" id="accountTypeModal" tabindex="-1" role="dialog" aria-labelledby="accountTypeModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="accountTypeModalLabel">Select Your Account Type</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                <p>What type of account would you like?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="accountType" id="studentRadio" value="student">
                    <label class="form-check-label" for="studentRadio">
                    <b>Student</b>
                    </label>
                    <p class="description">A student account is for individuals enrolled in educational institutions.</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="accountType" id="teacherRadio" value="teacher">
                    <label class="form-check-label" for="teacherRadio">
                    <b>Teacher</b>
                    </label>
                    <p class="description">A teacher account is for educators who manage classes and assignments.</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="accountType" id="parentRadio" value="parent">
                    <label class="form-check-label" for="parentRadio">
                    <b>Parent</b>
                    </label>
                    <p class="description">A parent account is for users who manage their children's day to day tasks as well as their own!</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="accountType" id="standardRadio" value="standard">
                    <label class="form-check-label" for="standardRadio">
                    <b>Standard</b>
                    </label>
                    <p class="description">A standard account is for users who just want some organization in their lives!</p>
                </div>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveAccountTypeBtn">Save changes</button>
                </div>
            </div>
            </div>
        </div>
    </form>
    {% endif %}
    <section>
        <h2>User Information</h2>
        <p>This is where you can display information about the user.</p>
    </section>
    <section>
        <h2>Recent Activity</h2>
        <p>Display recent activity or posts here.</p>
    </section>
</main>

<!--- Account type popup script -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
   $(document).ready(function() {
    $('#accountTypeModal').modal('show');

    $('#saveAccountTypeBtn').click(function() {
        var accountType = $('input[name="accountType"]:checked').val();
        $('#selectedAccountType').val(accountType);

        // Submit the form using AJAX
        $.ajax({
            url: '/save_account_type',
            type: 'POST',
            data: $('#accountTypeForm').serialize(),
            success: function(response) {
                window.location.reload(); // Refresh the page after saving the account type
            },
            error: function(xhr, status, error) {
                console.error(error);
            }
        });
    });
});

</script>
{% endblock %}